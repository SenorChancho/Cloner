/*!-----------------------------------------------------------------
  Name: Flatness - Personal Blog Template
  Version: 1.0.0
  Author: nK
  Website: http://nkdev.info
  Support: http://nk.ticksy.com
  Purchase: http://themeforest.net/item/flatness-personal-html-blog-template/13435224?ref=_nK
  License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
  Copyright 2015.
-------------------------------------------------------------------*/
!function(t,i){i["true"]=t,!function(t){"use strict";var i=function(i){var n=this;n.options=i,n.$window=t(window),n.$document=t(document),n.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/g.test(navigator.userAgent||navigator.vendor||window.opera),n.$preloader=t(".page-preloader"),n.$scrollTopBtn=t(".scroll-top"),n.$navbar=t(".navbar-flatness"),n.$navbarItems=n.$navbar.find(".nav > li > a"),n.$navbarHeader=n.$navbar.find(".navbar-header"),n.$navbarToggleBtn=n.$navbar.find("[data-toggle=off-canvas]"),n.$navbarToggleTarget=n.$navbar.find(n.$navbarToggleBtn.attr("data-target")),n.$sidebar=t(".flatness-sticky-sidebar"),n.$sameHeightImg=t(".cols-same-height .post-img"),n.$ajaxForm=t("form.flatness-ajax"),n.$accordions=t(".flatness-accordion"),n.$carousels=t(".flatness-carousel"),n.$sliders=t(".flatness-slider, .slick-slider"),n.$photoswipe=t(".photoswipe-gallery"),n.$masonry=t(".masonry"),n.$parallax=t(".view-parallax, .bg-parallax"),n.$fullscreen=t(".flatness-fullscreen"),n.$progressCount=t(".progress-count .progress-bar"),n.$numberCount=t(".flatness-count")};i.DEFAULT={stickySidebar:!0,navbarMax:200,navbarMin:100};var n=t("body"),a=function(t){return n.hasClass(t)};i.prototype.init=function(i){var o=this;o.options=t.extend({},this.options,i),a("navbar-fixed")&&!a("navbar-small")&&o.navbarSize(),o.$preloader.length||n.addClass("flatness-loaded"),t(window).on("load",function(){t('[data-toggle="tooltip"]').tooltip({container:"body"}),t('[data-toggle="popover"]').popover(),o.initSlick(),o.initPhotoSwipe(),o.initMasonry(),o.initAccordions(),o.navbarCollapse(),o.navbarSubmenuFix(),o.navbarScroll(),o.initSidebar(),o.initSameHeightImg(),o.initSmoothAnchorScroll(),o.initScrollTopBtn(),o.initAjaxForm(),o.initJarallax(),o.initFullScreenItem(),o.initCounters(),o.$preloader.length&&setTimeout(function(){o.$preloader.fadeOut(function(){t(this).find("> *").remove()}),n.addClass("flatness-loaded")},200)})},i.prototype.refresh=function(){this.$masonry.masonry()},i.prototype.initJarallax=function(){"undefined"!=typeof t.fn.jarallax&&this.$parallax.jarallax()},i.prototype.initSlick=function(){"undefined"!=typeof t.fn.slick&&(this.$carousels.each(function(){var i=parseInt(t(this).attr("data-size")||6),n=t(this).attr("data-autoplay")?!0:!1,a=parseInt(t(this).attr("data-autoplay")||4e3),o={infinite:!0,autoplay:n,autoplaySpeed:a,dots:!0,arrows:!1,slidesToShow:i,swipeToSlide:!0,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:500,settings:{slidesToShow:2}}]};(3==i||4==i)&&(o.responsive=[{breakpoint:768,settings:{slidesToShow:2}}]),t(this).slick(o)}),this.$sliders.each(function(){t(this).slick()}))},i.prototype.initMasonry=function(){if("undefined"!=typeof t.fn.masonry){var i=this;i.$masonry.each(function(){var i=t(this);i.find("> .item").addClass("masonry-grid-item"),i.masonry({itemSelector:".masonry-grid-item"})}),i.refresh()}},i.prototype.initPhotoSwipe=function(){if("undefined"!=typeof PhotoSwipe&&this.$photoswipe.length){var i=['<div id="gallery" class="pswp" tabindex="-1" role="dialog" aria-hidden="true">','  <div class="pswp__bg"></div>','  <div class="pswp__scroll-wrap">','    <div class="pswp__container">','      <div class="pswp__item"></div>','      <div class="pswp__item"></div>','      <div class="pswp__item"></div>',"    </div>",'    <div class="pswp__ui pswp__ui--hidden">','      <div class="pswp__top-bar">','        <div class="pswp__counter"></div>','        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>','        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>','        <div class="pswp__preloader">','          <div class="pswp__preloader__icn">','            <div class="pswp__preloader__cut">','              <div class="pswp__preloader__donut"></div>',"            </div>","          </div>","        </div>","      </div>",'      <div class="pswp__loading-indicator"><div class="pswp__loading-indicator__line"></div></div>','      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>','      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>','      <div class="pswp__caption">','        <div class="pswp__caption__center">',"        </div>","      </div>","    </div>","  </div>","</div>"].join("\n");n.append(i);var a=function(i){for(var i,n,a,o,e=i.childNodes,s=e.length,r=[],l=0;s>l;l++)if(i=e[l],1===i.nodeType){i=t(i).find("> a")[0],n=i.children,a=i.getAttribute("data-size").split("x"),o={src:i.getAttribute("href"),w:parseInt(a[0],10),h:parseInt(a[1],10),author:i.getAttribute("data-author")},o.el=i,n.length>0&&(o.msrc=n[0].getAttribute("src"),n.length>1&&(o.title=n[1].innerHTML));var d=i.getAttribute("data-med")||o.src;d&&(a=(i.getAttribute("data-med-size")||i.getAttribute("data-size")).split("x"),o.m={src:d,w:parseInt(a[0],10),h:parseInt(a[1],10)}),o.o={src:o.src,w:o.w,h:o.h},r.push(o)}return r},o=function p(t,i){return t&&(i(t)?t:p(t.parentNode,i))},e=function(i){i=i||window.event,i.preventDefault?i.preventDefault():i.returnValue=!1;var n=i.target||i.srcElement,a=o(n,function(t){return"A"===t.tagName});if(a){var e=a.parentNode.parentNode,s=t(a).parent().index();return s>=0&&r(s,e),!1}},s=function(){var t=window.location.hash.substring(1),i={};if(t.length<5)return i;for(var n=t.split("&"),a=0;a<n.length;a++)if(n[a]){var o=n[a].split("=");o.length<2||(i[o[0]]=o[1])}return i.gid&&(i.gid=parseInt(i.gid,10)),i},r=function(i,n,o,e){var s,r,l,d=t(".pswp")[0];if(l=a(n),r={captionAndToolbarShowEmptyCaptions:!1,mainClass:"pswp--minimal--dark",barsSize:{top:0,bottom:0},captionEl:!1,fullscreenEl:!1,shareEl:!1,bgOpacity:.85,tapToClose:!0,tapToToggleControls:!1,galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(t){var i=l[t].el.children[0],n=window.pageYOffset||document.documentElement.scrollTop,a=i.getBoundingClientRect();return{x:a.left,y:a.top+n,w:a.width}}},e)if(r.galleryPIDs){for(var p=0;p<l.length;p++)if(l[p].pid==i){r.index=p;break}}else r.index=parseInt(i,10)-1;else r.index=parseInt(i,10);if(!isNaN(r.index)){o&&(r.showAnimationDuration=0),s=new PhotoSwipe(d,PhotoSwipeUI_Default,l,r);var c,u,h=!1,f=!0;s.listen("beforeResize",function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;t=Math.min(t,2.5),c=s.viewportSize.x*t,c>=1200||!s.likelyTouchDevice&&c>800||screen.width>1200?h||(h=!0,u=!0):h&&(h=!1,u=!0),u&&!f&&s.invalidateCurrItems(),f&&(f=!1),u=!1}),s.listen("gettingData",function(t,i){h?(i.src=i.o.src,i.w=i.o.w,i.h=i.o.h):(i.src=i.m.src,i.w=i.m.w,i.h=i.m.h)}),s.init()}},l=0;this.$photoswipe.each(function(){t(this).attr("data-pswp-uid",l+1),t(this).on("click",e),l++});var d=s();d.pid&&d.gid&&r(d.pid,this.$photoswipe.get(d.gid-1),!0,!0)}},i.prototype.initAccordions=function(){var i=this;i.$accordions.find(".collapse").on("shown.bs.collapse",function(){t(this).parent().find(".icon-plus").removeClass("icon-plus").addClass("icon-minus"),i.refresh()}).on("hidden.bs.collapse",function(){t(this).parent().find(".icon-minus").removeClass("icon-minus").addClass("icon-plus"),i.refresh()})},i.prototype.initScrollTopBtn=function(){var i=this;i.$scrollTopBtn.on("click",function(){t("html, body").stop().animate({scrollTop:0},500,"swing")})},i.prototype.navbarSize=function(){var t=this.$window.scrollTop(),i=this.$navbarItems.height(),n=t>this.options.navbarMax&&i===this.options.navbarMin;if(!n){t>this.options.navbarMax&&(t=this.options.navbarMax);var a=1-(this.options.navbarMax-t)/this.options.navbarMax;a=this.options.navbarMax-a*(this.options.navbarMax-this.options.navbarMin),this.$navbarItems.css({height:a+"px",lineHeight:a+"px"}),this.$navbarHeader.css({top:a/2})}},i.prototype.navbarCollapse=function(){var t=this;t.$navbarToggleBtn.on("click",function(){t.$navbarToggleTarget.toggleClass("collapse")})},i.prototype.navbarSubmenuFix=function(){this.$navbar.on("click",".dropdown-submenu > a",function(t){t.preventDefault(),t.stopPropagation()})},i.prototype.navbarScroll=function(){var t=this;a("navbar-fixed")&&!a("navbar-small")&&(t.$window.on("scroll",function(i){t.navbarSize()}),t.navbarSize())},i.prototype.initSidebar=function(){this.options.stickySidebar&&this.$sidebar.addClass("theiaStickySidebar").parent().css({"will-change":"min-height"}).theiaStickySidebar({additionalMarginTop:(a("navbar-fixed")?this.options.navbarMin:0)+30,additionalMarginBottom:30})},i.prototype.initSameHeightImg=function(){var i=this;this.$sameHeightImg.each(function(){function n(){o.css({width:"",maxWidth:"",marginLeft:""});var t=r/s;a.addClass({position:"absolute",top:0,left:0,right:0,bottom:0});var i=e.height()/e.width();if(i>t){var n=100*(i-t)/t;o.css({width:n+100+"%",maxWidth:n+100+"%",marginLeft:-n/2+"%"})}}var a=t(this),o=a.find("img"),e=a.parent(),s=o[0].width,r=o[0].height;o.one("load",function(){s=o[0].width,r=o[0].height,n()}),i.$window.on("resize",n),n()})},i.prototype.initSmoothAnchorScroll=function(){t(".nav:not(.nav-tabs) a, .smooth-scroll").on("click",function(){var i=t(t(this).attr("href")),a=parseFloat(n.attr("data-offset"))||0;return i.length?(t("html, body").stop().animate({scrollTop:i.offset().top-a+1},900),!1):void 0})},i.prototype.initAjaxForm=function(){this.$ajaxForm.on("submit",function(i){i.preventDefault();var n=t(this),a=n.find('[type="submit"]'),o=a.data("ladda-button");if(!a.is(".disabled")&&!a.is("[disabled]")){if(!o){var o=Ladda.create(a[0]);a.addClass("ladda-button").attr("data-style","slide-down"),a.data("ladda-button",o)}o.start(),t.post(t(this).attr("action"),t(this).serialize(),function(t,i){swal({type:"success",title:"Success!",text:t,showConfirmButton:!0,confirmButtonClass:"btn-default"}),o.stop(),n[0].reset()}).fail(function(t){swal({type:"error",title:"Error!",text:t.responseText,showConfirmButton:!0,confirmButtonClass:"btn-default"}),o.stop()})}})},i.prototype.initFullScreenItem=function(){function t(){i.$fullscreen.css("height",i.$window.height())}var i=this;"undefined"==typeof Modernizr.cssvhunit&&Modernizr.testStyles("#modernizr { height: 50vh; }",function(t){var i=parseInt(window.innerHeight/2,10),n=parseInt((window.getComputedStyle?getComputedStyle(t,null):t.currentStyle).height,10);Modernizr.addTest("cssvhunit",n==i)}),Modernizr.cssvhunit&&i.$fullscreen.css("height","100vh"),Modernizr.cssvhunit||(i.$window.on("load resize",t),t())},i.prototype.initCounters=function(){function i(){var i=n.$window.scrollTop()+n.$window.height(),a=n.$window.scrollTop()+o;n.$progressCount.filter("[data-flatness-count]").each(function(){var n=t(this),o=n.offset().top;i>=o&&o>=a&&(n.css("width",n.attr("data-flatness-count")),n.removeAttr("data-flatness-count"))}),n.$numberCount.filter("[data-flatness-count]").each(function(){var n=t(this),o=n.offset().top;i>=o&&o>=a&&(n.prop("Counter",0).animate({Counter:n.attr("data-flatness-count")},{duration:2e3,easing:"swing",step:function(i){t(this).text(Math.ceil(i))}}),n.removeAttr("data-flatness-count"))})}var n=this;n.$progressCount.each(function(){t(this).attr("data-flatness-count",t(this).attr("data-count")+"%").css("transition","none").css("width",0)}),setTimeout(function(){n.$progressCount.css("transition","")},0),n.$numberCount.each(function(){t(this).attr("data-flatness-count",t(this).attr("data-count")||parseInt(t(this).text())).html("0")});var o=a("navbar-fixed")?80:0;n.$window.on("load scroll",i),i()},window.flatness=new i(i.DEFAULT)}(jQuery)}({},function(){return this}());